{
  "url": "https://parl.ai/projects/wizard_of_wikipedia/",
  "text": "Wizard of Wikipedia: Knowledge-Powered Conversational Agents\nThe Wizard of Wikipedia is an open-domain dialogue task for training agents that can converse knowledgably about open-domain topics! A detailed description may be found in Dinan et al. (ICLR 2019).\nIn open-domain dialogue intelligent agents should exhibit the use of knowledge, however there are few convincing demonstrations of this to date. The most popular sequence to sequence models typically \"generate and hope\" generic utterances that can be memorized in the weights of the model when mapping from input utterance(s) to output, rather than employing recalled knowledge as context. Use of knowledge has so far proved difficult, in part because of the lack of a supervised learning benchmark task which exhibits knowledgeable open dialogue with clear grounding. To that end we collect and release a large dataset with conversations directly grounded with knowledge retrieved from Wikipedia. We then design architectures capable of retrieving knowledge, reading and conditioning on it, and finally generating natural responses. Our best performing dialogue models are able to conduct knowledgeable discussions on open-domain topics as evaluated by automatic metrics and human evaluations, while our new benchmark allows for measuring further improvements in this important research direction.\nYou can train your own ParlAI agent on the Wizard of Wikipedia task with\nThe ParlAI MTurk collection scripts are also\navailable in an older release of ParlAI (see the wizard_of_wikipedia\nfor those interested in replication, analysis, or additional data collection.\nThe MTurk task for evaluating pre-trained models is made available in this\n| Model | Paper | Seen Rating | Unseen Rating |\n| Retrieval Trans MemNet | Dinan et al. (2019) | 3.43 | 3.14 |\n| Two-stage Generative Trans MemNet | Dinan et al. (2019) | 2.92 | 2.93 |\n| Human performance | Dinan et al. (2019) | 4.13 | 4.34 |\n| Model | Paper | Test Seen R@1 | Test Unseen R@1 |\n| Transformer MemNet (w/ pretraining) | Dinan et al. (2019) | 87.4 | 69.8 |\n| BoW Memnet | Dinan et al. (2019) | 71.3 | 33.1 |\n| IR baseline | Dinan et al. (2019) | 17.8 | 14.2 |\n| Random | Dinan et al. (2019) | 1.0 | 1.0 |\n| Model | Paper | Test Seen PPL | Test Unseen PPL |\n| End-to-end Transformer MemNet | Dinan et al. (2019) | 63.5 | 97.3 |\n| Two-Stage Transformer Memnet | Dinan et al. (2019) | 46.5 | 84.8 |\n| Vanilla Transformer (no knowledge) | Dinan et al. (2019) | 41.8 | 87.0 |\nYou can view the standard training set with:\nparlai display_data -t wizard_of_wikipedia -dt train\nThe knowledge returned from a standard IR system appears in the knowledge field (but you can also use your own knowledge system, accessing Wikipedia yourself, we use the dump in \"-t wikipedia\". The field 'checked_sentence' indicates the gold knowledge the annotator labeled.\nYou can evaluate the pretrained End-to-end generative models via:\n-bs 64 -t wizard_of_wikipedia:generator:random_split \\\n-mf models:wizard_of_wikipedia/end2end_generator/model\n{'f1': 0.1717, 'ppl': 61.21, 'know_acc': 0.2201, 'know_chance': 0.02625}\nThis differs slightly from the results in the paper, as it is a recreation trained from scratch for public release.\nYou can also evaluate the model on the unseen topic split too:\n-bs 64 -t wizard_of_wikipedia:generator:topic_split \\\n-mf models:wizard_of_wikipedia/end2end_generator/model\n{'f1': 0.1498, 'ppl': 103.1, 'know_acc': 0.1123, 'know_chance': 0.02496}\nYou can also interact with the model with:\nparlai interactive -mf models:wizard_of_wikipedia/end2end_generator/model -t wizard_of_wikipedia\nNote: an unofficial Tensorflow implementation of the End2End generative model can be found here.\nYou can evaluate a retrieval model on the full dialogue task by running the following script:\npython projects/wizard_of_wikipedia/scripts/eval_retrieval_model.py\nYou can run an interactive session with the model with:\npython projects/wizard_of_wikipedia/scripts/interactive_retrieval_model.py\nCheck back later for more pretrained models soon!\nIf you want to work with the raw data, we describe the setup of the json\nfile is a list of all dialogues in that split. An entry in the list has the following keys:\n: the chosen topic of the conversationpersona\n: a corresponding persona that motivated the topic (note this was not used during data collection)wizard_eval\n: an evaluation of the wizard provided by the apprentice at the end of the dialoguedialog\n: the list of dialogue turnschosen_topic_passage\n: a list of sentences from the wiki passage corresponding to the chosen topic\n(may) have the following keys; some are omitted for the apprentice:\n: the topics retrieved for that utteranceretrieved_passages\n: a list of 1 entry dicts, mapping a topic to the sentences in the passagechecked_sentence\n: (wizard only) a 1 entry dict mapping the topic to the chosen sentence by the wizardchecked_passage\n: (wizard only) a 1 entry dict mapping the topic to the chosen topic by the wizard\nIf you use the dataset or models in your own work, please cite with the following BibTex entry:\nauthor={Emily Dinan and Stephen Roller and Kurt Shuster and Angela Fan and Michael Auli and Jason Weston},\ntitle={{W}izard of {W}ikipedia: Knowledge-powered Conversational Agents},\nbooktitle = {Proceedings of the International Conference on Learning Representations (ICLR)},"
}